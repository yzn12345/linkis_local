2021-10-11 15:37:19.746 [INFO ] [main                                    ] c.w.w.l.LinkisBaseServerApp (47) [main] - Ready to start linkis-mg-gateway with args: --spring.profiles.active=linkis
--server.port=9001
--application.name=linkis-mg-gateway.
2021-10-11 15:37:22.411 [INFO ] [main                                    ] o.s.c.c.c.ConfigServicePropertySourceLocator (249) [getRemoteEnvironment] - Fetching config from server at : http://localhost:8888
2021-10-11 15:37:22.627 [INFO ] [main                                    ] o.s.c.c.c.ConfigServicePropertySourceLocator (273) [getRemoteEnvironment] - Connect Timeout Exception on Url - http://localhost:8888. Will be trying the next url if available
2021-10-11 15:37:22.627 [WARN ] [main                                    ] o.s.c.c.c.ConfigServicePropertySourceLocator (152) [locate] - Could not locate PropertySource: I/O error on GET request for "http://localhost:8888/linkis-mg-gateway/linkis": Connection refused (Connection refused); nested exception is java.net.ConnectException: Connection refused (Connection refused)
2021-10-11 15:37:22.651 [INFO ] [main                                    ] c.w.w.l.DataWorkCloudApplication (655) [logStartupProfileInfo] - The following profiles are active: linkis
2021-10-11 15:37:22.702 [INFO ] [main                                    ] c.w.w.l.DataWorkCloudApplication (84) [onApplicationEvent] - add config from config server...
2021-10-11 15:37:22.702 [INFO ] [main                                    ] c.w.w.l.DataWorkCloudApplication (89) [onApplicationEvent] - initialize DataWorkCloud spring application...
2021-10-11 15:37:25.215 [WARN ] [main                                    ] o.s.b.a.e.EndpointId (155) [logWarning] - Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2021-10-11 15:37:25.401 [INFO ] [main                                    ] o.s.c.a.ConfigurationClassPostProcessor (409) [enhanceConfigurationClasses] - Cannot enhance @Configuration bean definition 'myBatisMapperScannerConfig' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.
2021-10-11 15:37:25.616 [INFO ] [main                                    ] o.s.c.c.s.GenericScope (295) [setSerializationId] - BeanFactory id=4d7c0e6c-bbfe-37c7-96f1-2f7960b43f71
2021-10-11 15:37:26.374 [INFO ] [main                                    ] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker (330) [postProcessAfterInitialization] - Bean 'insLabelCacheConfiguration' of type [com.webank.wedatasphere.linkis.instance.label.cache.InsLabelCacheConfiguration$$EnhancerBySpringCGLIB$$4717af89] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-10-11 15:37:26.510 [INFO ] [main                                    ] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker (330) [postProcessAfterInitialization] - Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-10-11 15:37:26.513 [INFO ] [main                                    ] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker (330) [postProcessAfterInitialization] - Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactiveLoadBalancerConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactiveLoadBalancerConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-10-11 15:37:26.516 [INFO ] [main                                    ] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker (330) [postProcessAfterInitialization] - Bean 'deferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-10-11 15:37:27.454 [INFO ] [main                                    ] o.r.Reflections (229) [scan] - Reflections took 377 ms to scan 13 urls, producing 266 keys and 2407 values 
2021-10-11 15:37:27.514 [INFO ] [main                                    ] c.w.w.l.m.l.b.f.LabelBuilderFactoryContext (80) [labelBuilderInitRegister] - Succeed  to register label builder: com.webank.wedatasphere.linkis.manager.label.builder.CombinedLabelBuilder
2021-10-11 15:37:27.634 [INFO ] [main                                    ] c.w.w.l.m.DataSourceConfig$$EnhancerBySpringCGLIB$$74808922 (35) [info] - Database connection address information(数据库连接地址信息)=jdbc:mysql://localhost:3306/linkis?characterEncoding=UTF-8
2021-10-11 15:37:27.752 [INFO ] [main                                    ] c.w.w.l.m.MybatisConfigurationFactory$$EnhancerBySpringCGLIB$$d508d6bc (35) [info] - Mybatis typeAliasesPackage=com.webank.wedatasphere.linkis.instance.label.entity
2021-10-11 15:37:27.753 [INFO ] [main                                    ] c.w.w.l.m.MybatisConfigurationFactory$$EnhancerBySpringCGLIB$$d508d6bc (35) [info] - Mybatis mapperLocations=classpath*:com/webank/wedatasphere/linkis/instance/label/dao/impl/*.xml
2021-10-11 15:37:27.755 [INFO ] [main                                    ] c.w.w.l.m.MybatisConfigurationFactory$$EnhancerBySpringCGLIB$$d508d6bc (35) [info] - Mybatis configLocation=classpath:/mybatis-config.xml
2021-10-11 15:37:28.585 [INFO ] [main                                    ] c.w.w.l.i.l.InsLabelAutoConfiguration (55) [insLabelServiceAdapter] - Discover instance label accessServices: [2]
2021-10-11 15:37:28.590 [INFO ] [main                                    ] c.w.w.l.i.l.InsLabelAutoConfiguration (60) [lambda$insLabelServiceAdapter$0] - Register instance label access service: DefaultInsLabelService$$EnhancerBySpringCGLIB$$aedf1e28 to service adapter
2021-10-11 15:37:28.592 [INFO ] [main                                    ] c.w.w.l.i.l.InsLabelAutoConfiguration (60) [lambda$insLabelServiceAdapter$0] - Register instance label access service: EurekaInsLabelService to service adapter
2021-10-11 15:37:28.760 [INFO ] [main                                    ] c.w.w.l.g.u.r.GatewayRouterConfiguration$$EnhancerBySpringCGLIB$$74d06ebf (40) [info] - Use default label gateway router: [com.webank.wedatasphere.linkis.gateway.ujes.route.DefaultLabelGatewayRouter]
2021-10-11 15:38:08.455 [INFO ] [main                                    ] o.r.Reflections (229) [scan] - Reflections took 307 ms to scan 13 urls, producing 290 keys and 2573 values 
2021-10-11 15:38:08.481 [INFO ] [main                                    ] c.w.w.l.r.MessageRPCReceiveRestful (40) [info] - init all receiverChoosers in spring beans, list => List(com.webank.wedatasphere.linkis.rpc.MessageReceiverChooser@1be12e05, com.webank.wedatasphere.linkis.rpc.CommonReceiverChooser@736f2fb8)
2021-10-11 15:38:08.484 [INFO ] [main                                    ] c.w.w.l.r.MessageRPCReceiveRestful (40) [info] - init all receiverSenderBuilders in spring beans, list => List(com.webank.wedatasphere.linkis.rpc.CommonReceiverSenderBuilder@7ea8224b)
2021-10-11 15:38:08.492 [INFO ] [main                                    ] c.w.w.l.r.MessageRPCReceiveRestful (40) [info] - init RPCReceiverListenerBus with queueSize 5000 and consumeThreadSize 400.
2021-10-11 15:38:08.494 [INFO ] [main                                    ] c.w.w.l.r.AsynRPCMessageBus (40) [info] - RPC-Receiver-Asyn-Thread-ListenerBus add a new listener => class com.webank.wedatasphere.linkis.rpc.RPCReceiveRestful$$anon$1
2021-10-11 15:38:08.495 [INFO ] [main                                    ] c.w.w.l.r.MessageRPCReceiveRestful (40) [info] - init all receiverChoosers in spring beans, list => List(com.webank.wedatasphere.linkis.rpc.MessageReceiverChooser@1be12e05, com.webank.wedatasphere.linkis.rpc.CommonReceiverChooser@3f78a5ed)
2021-10-11 15:38:08.498 [INFO ] [main                                    ] c.w.w.l.r.MessageRPCReceiveRestful (40) [info] - init all receiverSenderBuilders in spring beans, list => List(com.webank.wedatasphere.linkis.rpc.CommonReceiverSenderBuilder@222eda8a)
2021-10-11 15:38:08.565 [INFO ] [main                                    ] c.w.w.l.r.RPCReceiveRestful (40) [info] - init all receiverChoosers in spring beans, list => List(com.webank.wedatasphere.linkis.rpc.MessageReceiverChooser@1be12e05, com.webank.wedatasphere.linkis.rpc.CommonReceiverChooser@691a5c3a)
2021-10-11 15:38:08.565 [INFO ] [main                                    ] c.w.w.l.r.RPCReceiveRestful (40) [info] - init all receiverSenderBuilders in spring beans, list => List(com.webank.wedatasphere.linkis.rpc.CommonReceiverSenderBuilder@5570dc21)
2021-10-11 15:38:08.566 [INFO ] [main                                    ] c.w.w.l.r.RPCReceiveRestful (40) [info] - init RPCReceiverListenerBus with queueSize 5000 and consumeThreadSize 400.
2021-10-11 15:38:08.567 [INFO ] [main                                    ] c.w.w.l.r.AsynRPCMessageBus (40) [info] - RPC-Receiver-Asyn-Thread-ListenerBus add a new listener => class com.webank.wedatasphere.linkis.rpc.RPCReceiveRestful$$anon$1
2021-10-11 15:38:09.861 [INFO ] [main                                    ] o.s.c.c.u.InetUtils (170) [convertAddress] - Cannot determine local hostname
2021-10-11 15:38:11.055 [INFO ] [main                                    ] o.s.c.c.u.InetUtils (170) [convertAddress] - Cannot determine local hostname
2021-10-11 15:38:11.139 [INFO ] [main                                    ] o.s.c.n.e.InstanceInfoFactory (72) [create] - Setting initial instance status as: STARTING
2021-10-11 15:38:11.347 [INFO ] [main                                    ] c.n.d.DiscoveryClient (365) [<init>] - Initializing Eureka in region us-east-1
2021-10-11 15:38:11.449 [INFO ] [main                                    ] c.n.d.p.DiscoveryJerseyProvider (70) [<init>] - Using JSON encoding codec LegacyJacksonJson
2021-10-11 15:38:11.450 [INFO ] [main                                    ] c.n.d.p.DiscoveryJerseyProvider (71) [<init>] - Using JSON decoding codec LegacyJacksonJson
2021-10-11 15:38:11.799 [INFO ] [main                                    ] c.n.d.p.DiscoveryJerseyProvider (80) [<init>] - Using XML encoding codec XStreamXml
2021-10-11 15:38:11.800 [INFO ] [main                                    ] c.n.d.p.DiscoveryJerseyProvider (81) [<init>] - Using XML decoding codec XStreamXml
2021-10-11 15:38:12.532 [INFO ] [main                                    ] c.n.d.s.r.a.ConfigClusterResolver (43) [getClusterEndpoints] - Resolving eureka endpoints via configuration
2021-10-11 15:38:12.563 [INFO ] [main                                    ] c.n.d.DiscoveryClient (976) [fetchRegistry] - Disable delta property : false
2021-10-11 15:38:12.563 [INFO ] [main                                    ] c.n.d.DiscoveryClient (977) [fetchRegistry] - Single vip registry refresh property : null
2021-10-11 15:38:12.563 [INFO ] [main                                    ] c.n.d.DiscoveryClient (978) [fetchRegistry] - Force full registry fetch : false
2021-10-11 15:38:12.563 [INFO ] [main                                    ] c.n.d.DiscoveryClient (979) [fetchRegistry] - Application is null : false
2021-10-11 15:38:12.563 [INFO ] [main                                    ] c.n.d.DiscoveryClient (980) [fetchRegistry] - Registered Applications size is zero : true
2021-10-11 15:38:12.564 [INFO ] [main                                    ] c.n.d.DiscoveryClient (982) [fetchRegistry] - Application version is -1: true
2021-10-11 15:38:12.564 [INFO ] [main                                    ] c.n.d.DiscoveryClient (1065) [getAndStoreFullRegistry] - Getting all instance registry info from the eureka server
2021-10-11 15:38:12.800 [INFO ] [main                                    ] c.n.d.DiscoveryClient (1074) [getAndStoreFullRegistry] - The response status is 200
2021-10-11 15:38:12.814 [INFO ] [main                                    ] c.n.d.DiscoveryClient (1288) [initScheduledTasks] - Starting heartbeat executor: renew interval is: 30
2021-10-11 15:38:12.822 [INFO ] [main                                    ] c.n.d.InstanceInfoReplicator (60) [<init>] - InstanceInfoReplicator onDemand update allowed rate per min is 4
2021-10-11 15:38:12.837 [INFO ] [main                                    ] c.n.d.DiscoveryClient (465) [<init>] - Discovery Client initialized at timestamp 1633937892833 with initial instances count: 7
2021-10-11 15:38:12.970 [INFO ] [main                                    ] c.w.w.l.i.l.s.r.DefaultInsLabelRpcService (40) [info] - Use the default implement of rpc service: DefaultInsLabelRpcService
2021-10-11 15:38:38.872 [WARN ] [main                                    ] c.n.c.s.URLConfigurationSource (121) [<init>] - No URLs will be polled as dynamic configuration sources.
2021-10-11 15:38:38.874 [INFO ] [main                                    ] c.n.c.s.URLConfigurationSource (122) [<init>] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2021-10-11 15:38:38.886 [WARN ] [main                                    ] c.n.c.s.URLConfigurationSource (121) [<init>] - No URLs will be polled as dynamic configuration sources.
2021-10-11 15:38:38.887 [INFO ] [main                                    ] c.n.c.s.URLConfigurationSource (122) [<init>] - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2021-10-11 15:38:39.909 [INFO ] [main                                    ] o.s.c.g.r.RouteDefinitionRouteLocator (139) [lambda$initFactories$2] - Loaded RoutePredicateFactory [After]
2021-10-11 15:38:39.909 [INFO ] [main                                    ] o.s.c.g.r.RouteDefinitionRouteLocator (139) [lambda$initFactories$2] - Loaded RoutePredicateFactory [Before]
2021-10-11 15:38:39.909 [INFO ] [main                                    ] o.s.c.g.r.RouteDefinitionRouteLocator (139) [lambda$initFactories$2] - Loaded RoutePredicateFactory [Between]
2021-10-11 15:38:39.909 [INFO ] [main                                    ] o.s.c.g.r.RouteDefinitionRouteLocator (139) [lambda$initFactories$2] - Loaded RoutePredicateFactory [Cookie]
2021-10-11 15:38:39.909 [INFO ] [main                                    ] o.s.c.g.r.RouteDefinitionRouteLocator (139) [lambda$initFactories$2] - Loaded RoutePredicateFactory [Header]
2021-10-11 15:38:39.909 [INFO ] [main                                    ] o.s.c.g.r.RouteDefinitionRouteLocator (139) [lambda$initFactories$2] - Loaded RoutePredicateFactory [Host]
2021-10-11 15:38:39.909 [INFO ] [main                                    ] o.s.c.g.r.RouteDefinitionRouteLocator (139) [lambda$initFactories$2] - Loaded RoutePredicateFactory [Method]
2021-10-11 15:38:39.909 [INFO ] [main                                    ] o.s.c.g.r.RouteDefinitionRouteLocator (139) [lambda$initFactories$2] - Loaded RoutePredicateFactory [Path]
2021-10-11 15:38:39.909 [INFO ] [main                                    ] o.s.c.g.r.RouteDefinitionRouteLocator (139) [lambda$initFactories$2] - Loaded RoutePredicateFactory [Query]
2021-10-11 15:38:39.910 [INFO ] [main                                    ] o.s.c.g.r.RouteDefinitionRouteLocator (139) [lambda$initFactories$2] - Loaded RoutePredicateFactory [ReadBodyPredicateFactory]
2021-10-11 15:38:39.910 [INFO ] [main                                    ] o.s.c.g.r.RouteDefinitionRouteLocator (139) [lambda$initFactories$2] - Loaded RoutePredicateFactory [RemoteAddr]
2021-10-11 15:38:39.910 [INFO ] [main                                    ] o.s.c.g.r.RouteDefinitionRouteLocator (139) [lambda$initFactories$2] - Loaded RoutePredicateFactory [Weight]
2021-10-11 15:38:39.910 [INFO ] [main                                    ] o.s.c.g.r.RouteDefinitionRouteLocator (139) [lambda$initFactories$2] - Loaded RoutePredicateFactory [CloudFoundryRouteService]
2021-10-11 15:38:40.652 [INFO ] [main                                    ] o.s.b.a.e.w.EndpointLinksResolver (58) [<init>] - Exposing 2 endpoint(s) beneath base path '/actuator'
2021-10-11 15:38:40.904 [INFO ] [main                                    ] c.w.w.l.s.q.p.ParallelConsumerManager (40) [info] - The feature that auto clean up idle consumers for RpcMessageScheduler is enabled.
2021-10-11 15:38:41.252 [WARN ] [main                                    ] o.s.c.l.c.BlockingLoadBalancerClientAutoConfiguration$BlockingLoadBalancerClientRibbonWarnLogger (86) [logWarning] - You already have RibbonLoadBalancerClient on your classpath. It will be used by default. As Spring Cloud Ribbon is in maintenance mode. We recommend switching to BlockingLoadBalancerClient instead. In order to use it, set the value of `spring.cloud.loadbalancer.ribbon.enabled` to `false` or remove spring-cloud-starter-netflix-ribbon from your project.
2021-10-11 15:38:41.284 [WARN ] [main                                    ] o.s.c.c.l.r.ReactorLoadBalancerClientAutoConfiguration$ReactorLoadBalancerClientRibbonWarnLogger (75) [logWarning] - You have RibbonLoadBalancerClient on your classpath. LoadBalancerExchangeFilterFunction that uses it under the hood will be used by default. Spring Cloud Ribbon is now in maintenance mode, so we suggest switching to ReactorLoadBalancerExchangeFilterFunction instead. In order to use it, set the value of `spring.cloud.loadbalancer.ribbon.enabled` to `false` or remove spring-cloud-starter-netflix-ribbon from your project.
2021-10-11 15:38:41.425 [INFO ] [main                                    ] o.s.c.n.e.s.EurekaServiceRegistry (41) [register] - Registering application LINKIS-MG-GATEWAY with eureka with status UP
2021-10-11 15:38:41.426 [INFO ] [main                                    ] c.n.d.DiscoveryClient (1323) [notify] - Saw local status change event StatusChangeEvent [timestamp=1633937921426, current=UP, previous=STARTING]
2021-10-11 15:38:41.437 [INFO ] [DiscoveryClient-InstanceInfoReplicator-0] c.n.d.DiscoveryClient (844) [register] - DiscoveryClient_LINKIS-MG-GATEWAY/10.18.58.173:linkis-mg-gateway:9001: registering service...
2021-10-11 15:38:41.546 [INFO ] [DiscoveryClient-InstanceInfoReplicator-0] c.n.d.DiscoveryClient (853) [register] - DiscoveryClient_LINKIS-MG-GATEWAY/10.18.58.173:linkis-mg-gateway:9001 - registration status: 204
2021-10-11 15:38:41.793 [INFO ] [main                                    ] o.s.b.w.e.n.NettyWebServer (109) [start] - Netty started on port(s): 9001
2021-10-11 15:38:41.800 [INFO ] [main                                    ] o.s.c.n.e.s.EurekaAutoServiceRegistration (145) [onApplicationEvent] - Updating port to 9001
2021-10-11 15:38:41.818 [INFO ] [main                                    ] c.w.w.l.r.c.RPCSpringConfiguration$$EnhancerBySpringCGLIB$$5443b055 (40) [info] - DataWorkCloud RPC need register RPCReceiveRestful, now add it to configuration.
2021-10-11 15:38:41.818 [INFO ] [main                                    ] c.w.w.l.DataWorkCloudApplication (84) [onApplicationEvent] - add config from config server...
2021-10-11 15:38:41.818 [INFO ] [main                                    ] c.w.w.l.DataWorkCloudApplication (89) [onApplicationEvent] - initialize DataWorkCloud spring application...
2021-10-11 15:38:41.869 [INFO ] [main                                    ] c.w.w.l.DataWorkCloudApplication (61) [logStarted] - Started DataWorkCloudApplication in 81.641 seconds (JVM running for 85.21)
2021-10-11 15:38:41.909 [INFO ] [Linkis-Default-Scheduler-Thread-1       ] c.w.w.l.s.q.p.ParallelConsumerManager (40) [info] - Start to Clean up idle consumers 
2021-10-11 15:38:41.915 [INFO ] [Linkis-Default-Scheduler-Thread-1       ] c.w.w.l.s.q.p.ParallelConsumerManager (40) [info] - Finished to clean up idle consumers for RpcMessageScheduler, cost 5 ms.
